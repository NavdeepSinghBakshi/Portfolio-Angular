<div class="container mt-5">
    <div class="row">
        <div class="col-sm-12 overflow-scroll">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Topics</th>
                        <th *ngIf="count == 0" scope="col">Weightage</th>
                        <th *ngIf="count != 0" class="cursor">Default</th>
                        <th *ngIf="count >= 1">
                            <mat-checkbox [checked]="checkboxColumn1" [disabled]="update == 1"
                            (change)="onSelectColumn($event,1)"></mat-checkbox>
                        </th>
                        <th *ngIf="count >= 1" style="width: 200px;" scope="col">
                            <div style="border: 1px solid #000;position: relative;">

                                <span
                                    style="background: #fff; margin-top: -9px; margin-left: 10px; padding: 0 10px; width: 54px; font-weight: 300;font-size: 12px; position: absolute;right: 20px;">{{arrActivity[0].columnName1?arrActivity[0].columnName1.length:0}}/50</span>
                                <textarea class="form-control" [(ngModel)]="arrActivity[0].columnName1" rows="1"
                                    id="weightagecolumnName1" [disabled]="update == 1"
                                    (mouseover)="resizetextarea($event)" (mouseleave)="resizetextarea($event)"
                                    maxlength="50" style="padding-top: 8px;width: 200px;"
                                    (keyup)="setdefaultInputbox(arrActivity[0].columnName1,'weightagecolumnName1')"></textarea>
                            </div>
                        </th>
                        <th *ngIf="count >= 2">
                            <mat-checkbox [checked]="checkboxColumn2" (change)="onSelectColumn($event,2)"
                                [disabled]="update == 1">
                            </mat-checkbox>
                        </th>
                        <th *ngIf="count >= 2" style="width: 200px;" scope="col">
                            <div style="border: 1px solid #000;position: relative;">

                                <span
                                    style="background: #fff; margin-top: -9px; margin-left: 10px; padding: 0 10px; width: 54px; font-weight: 300;font-size: 12px; position: absolute;right: 20px;">{{arrActivity[0].columnName2?arrActivity[0].columnName2.length:0}}/50</span>
                                <textarea class="form-control" rows="1" maxlength="50"
                                    (keyup)="setdefaultInputbox(arrActivity[0].columnName2,'weightagecolumnName2')"
                                    [(ngModel)]="arrActivity[0].columnName2" id="weightagecolumnName2"
                                    [disabled]="update == 1" (mouseover)="resizetextarea($event)"
                                    (mouseleave)="resizetextarea($event)"
                                    style="padding-top: 8px;width: 200px;"></textarea>
                            </div>
                        </th>
                        <th *ngIf="count >= 3">
                            <mat-checkbox [checked]="checkboxColumn3" (change)="onSelectColumn($event,3)"
                                [disabled]="update == 1">
                            </mat-checkbox>
                        </th>
                        <th *ngIf="count >= 3" scope="col">
                            <div style="border: 1px solid #000;position: relative;">

                                <span
                                    style="background: #fff; margin-top: -9px; margin-left: 10px; padding: 0 10px; width: 54px; font-weight: 300;font-size: 12px; position: absolute;right: 20px;">{{arrActivity[0].columnName3?arrActivity[0].columnName3.length:0}}/50</span>
                                <textarea class="form-control" rows="1" maxlength="50"
                                    (keyup)="setdefaultInputbox(arrActivity[0].columnName3,'weightagecolumnName3')"
                                    [(ngModel)]="arrActivity[0].columnName3"
                                    (mouseleave)="resizetextarea($event)" id="weightagecolumnName3"
                                    [disabled]="update == 1" (mouseover)="resizetextarea($event)"
                                    style="padding-top: 8px;width: 200px;"></textarea>
                            </div>
                        </th>
                        <th *ngIf="count >= 4">
                            <mat-checkbox [checked]="checkboxColumn4" (change)="onSelectColumn($event,4)"
                                [disabled]="update == 1">
                            </mat-checkbox>
                        </th>
                        <th *ngIf="count >= 4" scope="col">
                            <div style="border: 1px solid #000;position: relative;">

                                <span
                                    style="background: #fff; margin-top: -9px; margin-left: 10px; padding: 0 10px; width: 54px; font-weight: 300;font-size: 12px; position: absolute;right: 20px;">{{arrActivity[0].columnName4?arrActivity[0].columnName4.length:0}}/50</span>
                                <textarea class="form-control" rows="1" maxlength="50"
                                    (keyup)="setdefaultInputbox(arrActivity[0].columnName4,'weightagecolumnName4')"
                                    [(ngModel)]="arrActivity[0].columnName4"
                                    (mouseleave)="resizetextarea($event)" id="weightagecolumnName4"
                                    [disabled]="update == 1" (mouseover)="resizetextarea($event)"
                                    style="padding-top: 8px;width: 200px;"></textarea>
                            </div>
                        </th>
                        <th *ngIf="count >= 5">
                            <mat-checkbox [checked]="checkboxColumn5" (change)="onSelectColumn($event,5)"
                                [disabled]="update == 1">
                            </mat-checkbox>
                        </th>
                        <th *ngIf="count >= 5" scope="col">
                            <div style="border: 1px solid #000;position: relative;">

                                <span
                                    style="background: #fff; margin-top: -9px; margin-left: 10px; padding: 0 10px; width: 54px; font-weight: 300;font-size: 12px; position: absolute;right: 20px;">{{arrActivity[0].columnName5?arrActivity[0].columnName5.length:0}}/50</span>
                                <textarea class="form-control" rows="1" maxlength="50"
                                    (keyup)="setdefaultInputbox(arrActivity[0].columnName5,'weightagecolumnName5')"
                                    [(ngModel)]="arrActivity[0].columnName5"
                                    (mouseleave)="resizetextarea($event)" id="weightagecolumnName5"
                                    [disabled]="update == 1" (mouseover)="resizetextarea($event)"
                                    style="padding-top: 8px;width: 200px;"></textarea>
                            </div>
                        </th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody *ngFor="let topic of arrActivity; let i=index">
                    <tr>
                        <td>
                            <textarea style="width: 200px;" class="form-control" id="autoresizing"
                                [disabled]="update == 1" placeholder="Type Your Activity Name" maxlength="50"
                                rows="1" [(ngModel)]="topic.topicName">{{topic.topicName}}</textarea>
                        </td>
                        <td>
                            <span class="text-right"><input style="width: 200px;text-align: right;"
                                    class="form-control" type="text" maxlength="3"
                                    [(ngModel)]="topic.weightagePercent" (keypress)="keyPressNumbers($event)"
                                    (keyup)="calculateTotalWeightageColumn()" [disabled]="update == 1" /></span>
                        </td>
                        <td colspan="2" *ngIf="count >= 1">
                            <p><input type="text" class="form-control" style="width:200px;text-align: right;float:right;"
                                    [(ngModel)]="topic.column1WeightagePercent"
                                    (keypress)="keyPressNumbers($event)"
                                    (keyup)="calculateTotalWeightageColumn1()" [disabled]="update == 1"></p>
                        </td>
                        <td colspan="2" *ngIf="count >= 2">
                            <p><input type="text" class="form-control" style="width:200px;text-align: right;float:right;"
                                    (keyup)="calculateTotalWeightageColumn2()" [disabled]="update == 1"
                                    [(ngModel)]="topic.column2WeightagePercent"
                                    (keypress)="keyPressNumbers($event)"></p>
                        </td>
                        <td colspan="2" id="widthcolumn1" *ngIf="count >= 3">
                            <p><input id="tbEffortPercentage1" class="form-control" type="text"
                                    (keypress)="keyPressNumbers($event)"
                                    (keyup)="calculateTotalWeightageColumn3()"
                                    style="width:200px;text-align: right;float:right;"
                                    [(ngModel)]="topic.column3WeightagePercent"
                                    [disabled]="update == 1" /></p>
                        </td>
                        <td colspan="2" id="widthcolumn1" *ngIf="count >= 4">
                            <p><input id="tbEffortPercentage1" class="form-control" type="text"
                                    (keypress)="keyPressNumbers($event)"
                                    (keyup)="calculateTotalWeightageColumn4()"
                                    style="width:200px;text-align: right;float:right;"
                                    [(ngModel)]="topic.column4WeightagePercent"
                                    [disabled]="update == 1" /></p>
                        </td>
                        <td colspan="2" id="widthcolumn1" *ngIf="count >= 5">
                            <p><input id="tbEffortPercentage1" class="form-control" type="text"
                                    (keypress)="keyPressNumbers($event)"
                                    (keyup)="calculateTotalWeightageColumn5()"
                                    style="width:200px;text-align: right;float:right;"
                                    [(ngModel)]="topic.column5WeightagePercent"
                                    [disabled]="update == 1" /></p>
                        </td>
                        <td><button style="border: hidden; background: none;" class="link-primary"
                                [disabled]="update == 1" (click)="removeNewSizeRow(i)"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                    fill="currentColor" class="bi bi-trash-fill mx-2 my-2" viewBox="0 0 16 16">
                                    <path
                                        d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />
                                </svg></button></td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td *ngIf="skillId !=0 || update == 1" class="text-left px-5 fw-bold">Total</td>
                        <td class="text-end mx-2 fw-bold" *ngIf="skillId !=0 || update == 1">
                            <div style="width:200px;">{{totalWeightage}} %</div>
                        </td>
                        <td *ngIf="count >= 1" colspan="2" class="text-end px-5 mx-2 fw-bold">{{totalColumn1}} %
                        </td>
                        <td *ngIf="count >= 2" colspan="2" class="text-end px-5 mx-2 fw-bold">{{totalColumn2}} %
                        </td>
                        <td *ngIf="count >= 3" colspan="2" class="text-end px-5 mx-2 fw-bold">{{totalColumn3}} %
                        </td>
                        <td *ngIf="count >= 4" colspan="2" class="text-end px-5 mx-2 fw-bold">{{totalColumn4}} %
                        </td>
                        <td *ngIf="count >= 5" colspan="2" class="text-end px-5 mx-2 fw-bold">{{totalColumn5}} %
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <br>
    <div class="container" *ngIf="update == 0">
        <div class="row">
            <div class="col-sm-7">
                <span style="cursor: pointer;" class="link-primary"> <a
                        (click)="loadingEmptyCustomActivities(1)"><b><u><i
                                    class="bi bi-plus-circle-fill"></i>&nbsp;Add
                                Topics</u></b></a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                <span style="cursor: not-allowed;" *ngIf="skillId == 0" class="bluelink"><b><u>
                            <i class="bi bi-plus-circle-fill"></i>&nbsp;Add New Effort
                            Column</u></b></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                <span style="cursor: pointer;" *ngIf="skillId != 0" class="link-primary"> <a
                        (click)="editEffortDistribution()"><i class="bi bi-plus-circle-fill"></i>&nbsp;<b><u>Add
                                New Effort Column</u></b></a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <span style="cursor: not-allowed;" *ngIf="skillId != 0 && !enableLink" class="bluelink"> <i
                        class="bi bi-trash-fill"></i>&nbsp;<b><u>Delete Effort Column</u></b></span>
                <span style="cursor: pointer;" *ngIf="skillId != 0 && enableLink" class="link-primary">
                    <a (click)="deleteMultipleEffortDistribution()"><i
                            class="bi bi-trash-fill"></i>&nbsp;<b><u>Delete Effort
                                Column</u></b></a></span>
            </div>
            <div class="col-sm-3">

            </div>
            <div class="col-sm-2">

            </div>
        </div>
    </div>
    <div class="pt-1">
        <div class="text-end m-5">
            <button mat-raised-button routerLink="/work">Cancel</button>&nbsp;&nbsp;&nbsp;&nbsp;
            <!--<button mat-raised-button color="primary" [disabled]="update == 1"
                (click)="createUpdateCdm()">Submit</button>-->
        </div>
    </div>
</div>
